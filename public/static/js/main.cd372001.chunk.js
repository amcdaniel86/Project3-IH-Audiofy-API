(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){},26:function(e,t,n){e.exports=n(57)},32:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(24),r=n.n(i),s=(n(32),n(3)),c=n(4),u=n(6),o=n(5),m=n(7),p=(n(13),n(2)),h=n.n(p),d=n(58),f=n(61),g=n(60),b=n(12),E=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={nameInput:"",timeInput:"",songsInput:""},n.updateInput=function(e){n.setState(Object(b.a)({},e.target.id,e.target.value))},n.createNewPlaylist=function(e){e.preventDefault();var t=n.state.nameInput,a=n.state.timeInput;h.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,"/playlists/add-new"),{theName:t,theTime:a},{withCredentials:!0}).then(function(e){console.log("success",e),n.props.letTheIndexComponentKnowThatWeAddedAPlaylist()}).catch(function(e){console.log("error creating playlist sorry",e)})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null," Add New Playlist"),l.a.createElement("form",{onSubmit:this.createNewPlaylist},l.a.createElement("label",null,"Name"),l.a.createElement("input",{value:this.state.nameInput,id:"nameInput",onChange:this.updateInput}),l.a.createElement("label",null,"Time"),l.a.createElement("input",{value:this.state.timeInput,id:"timeInput",onChange:this.updateInput}),l.a.createElement("button",null,"Save")))}}]),t}(a.Component),I=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={allThePlaylists:[]},n.fetchPlaylists=function(){h.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,"/playlists")).then(function(e){n.setState({allThePlaylists:e.data.reverse()})}).catch(function(e){})},n.showAllPlaylists=function(){if(n.state.allThePlaylists&&n.props.currentUser)return n.state.allThePlaylists.filter(function(e){return e.owner===n.props.currentUser._id}).map(function(e){return l.a.createElement("div",{key:e._id},l.a.createElement("h3",null,e.name),l.a.createElement("h4",null,e.creator),l.a.createElement("h6",null,e.time),l.a.createElement(d.a,{to:"/playlist/"+e._id},"See Details "))})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.fetchPlaylists()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Playlist Index"),l.a.createElement("div",{className:"list-of-playlists-container"},this.showAllPlaylists()),l.a.createElement("div",{className:"add-new-component-container"},l.a.createElement(E,{letTheIndexComponentKnowThatWeAddedAPlaylist:this.fetchPlaylists})))}}]),t}(a.Component),v=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={nameInput:"",timeInput:"",editing:!1},n.updateInput=function(e){n.setState(Object(b.a)({},e.target.id,e.target.value))},n.editPlaylist=function(e){e.preventDefault(),h.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,"/playlist-edit/").concat(n.state.theActualPlaylist._id),{theName:n.state.nameInput,theTime:n.state.timeInput}).then(function(){n.setState({editing:!1})}).catch(function(){})},n.toggleForm=function(){n.setState({editing:!0})},n.showPlaylistDetails=function(){if(n.state.theActualPlaylist)return n.state.editing?l.a.createElement("form",{onSubmit:n.editPlaylist},l.a.createElement("input",{className:"input",value:n.state.nameInput,onChange:n.updateInput,id:"nameInput"}),l.a.createElement("input",{className:"input",value:n.state.timeInput,onChange:n.updateInput,id:"timeInput"}),l.a.createElement("button",null,"Submit changes")):l.a.createElement("div",null,l.a.createElement("span",null,n.state.nameInput),l.a.createElement("span",null,n.state.timeInput),l.a.createElement("img",{onClick:n.toggleForm,className:"pen-pic",src:"https:aldksfjdaslkfj",alt:"pic"}))},n.deleteProject=function(){h.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,"/playlist-delete/").concat(n.state.theActualPlaylist._id),{}).then(function(){n.props.history.push("/playlist-index")}).catch(function(){})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id;h.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,"/playlist-details/").concat(t)).then(function(t){e.setState({theActualPlaylist:t.data,nameInput:t.data.name,timeInput:t.data.time})}).catch(function(){})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null," Playlist Details Page"),this.showProjectDetails(),l.a.createElement("div",null,l.a.createElement("button",{onClick:this.deletePlaylist,className:"delete"},"Delete Playlist")))}}]),t}(a.Component),A=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={nameInput:"",timeInput:"",albumsInput:""},n.updateInput=function(e){n.setState(Object(b.a)({},e.target.id,e.target.value))},n.createNewAlbumlist=function(e){e.preventDefault();var t=n.state.nameInput,a=n.state.timeInput;h.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,"/albumlists/add-new"),{theName:t,theTime:a},{withCredentials:!0}).then(function(e){console.log("success",e),n.props.letTheIndexComponentKnowThatWeAddedAnAlbumlist()}).catch(function(e){console.log("error creating Albumlist sorry",e)})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null," Add New Albumlist"),l.a.createElement("form",{onSubmit:this.createNewAlbumlist},l.a.createElement("label",null,"Name"),l.a.createElement("input",{value:this.state.nameInput,id:"nameInput",onChange:this.updateInput}),l.a.createElement("label",null,"Time"),l.a.createElement("input",{value:this.state.timeInput,id:"timeInput",onChange:this.updateInput}),l.a.createElement("button",null,"Save")))}}]),t}(a.Component),y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={allTheAlbumlists:[]},n.fetchAlbumlists=function(){h.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,"/albumlists")).then(function(e){n.setState({allTheAlbumlists:e.data.reverse()})}).catch(function(e){})},n.showAllAlbumlists=function(){if(n.state.allTheAlbumlists&&n.props.currentUser)return n.state.allTheAlbumlists.filter(function(e){return e.owner===n.props.currentUser._id}).map(function(e){return l.a.createElement("div",{key:e._id},l.a.createElement("h3",null,e.name),l.a.createElement("h4",null,e.creator),l.a.createElement("h6",null,e.time),l.a.createElement(d.a,{to:"/albumlist/"+e._id},"See Details "))})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.fetchAlbumlists()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Albumlist Index"),l.a.createElement("div",{className:"list-of-albumlists-container"},this.showAllAlbumlists()),l.a.createElement("div",{className:"add-new-component-container"},l.a.createElement(A,{letTheIndexComponentKnowThatWeAddedAlbumlist:this.fetchAlbumlists})))}}]),t}(a.Component),O=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={nameInput:"",timeInput:"",editing:!1},n.updateInput=function(e){n.setState(Object(b.a)({},e.target.id,e.target.value))},n.editAlbumlist=function(e){e.preventDefault(),h.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,"/albumlist-edit/").concat(n.state.theActualAlbumlist._id),{theName:n.state.nameInput,theTime:n.state.timeInput}).then(function(){n.setState({editing:!1})}).catch(function(){})},n.toggleForm=function(){n.setState({editing:!0})},n.showAlbumlistDetails=function(){if(n.state.theActualAlbumlist)return n.state.editing?l.a.createElement("form",{onSubmit:n.editAlbumlist},l.a.createElement("input",{className:"input",value:n.state.nameInput,onChange:n.updateInput,id:"nameInput"}),l.a.createElement("input",{className:"input",value:n.state.timeInput,onChange:n.updateInput,id:"timeInput"}),l.a.createElement("button",null,"Submit changes")):l.a.createElement("div",null,l.a.createElement("span",null,n.state.nameInput),l.a.createElement("span",null,n.state.timeInput),l.a.createElement("img",{onClick:n.toggleForm,className:"pen-pic",src:"https:aldksfjdaslkfj",alt:"penpic"}))},n.deletePlaylist=function(){h.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,"/albumlist-delete/").concat(n.state.theActualAlbumlist._id),{}).then(function(){n.props.history.push("/albumlist-index")}).catch(function(){})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id;h.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,"/albumlist-details/").concat(t)).then(function(t){e.setState({theActualAlbumlist:t.data,nameInput:t.data.name,timeInput:t.data.time})}).catch(function(){})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null," Albumlist Details Page"),this.showPlaylistDetails(),l.a.createElement("div",null,l.a.createElement("button",{onClick:this.deleteAlbumlist,className:"delete"},"Delete Albumlist")))}}]),t}(a.Component),P=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e,n){return t.service.post("/signup",{username:e,password:n}).then(function(e){return e.data})},this.login=function(e,n){return t.service.post("/login",{username:e,password:n}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout",{}).then(function(e){return e.data})};var n=h.a.create({baseURL:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL),withCredentials:!0});this.service=n},j=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={usernameInput:"",passwordInput:""},n.service=new P,n.handleChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.handleFormSubmit=function(e){e.preventDefault(),n.service.signup(n.state.usernameInput,n.state.passwordInput).then(function(e){console.log("-=-=-=-=-=-=-=-=",e),n.props.logTheUserIntoAppComponent(e),n.setState({usernameInput:"",passwordInput:""}),n.props.history.push("/playlist-index")}).catch(function(e){console.log("error with submitting",e)})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("label",null,"Username:"),l.a.createElement("input",{type:"text",name:"usernameInput",value:this.state.usernameInput,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",null,"Password:"),l.a.createElement("input",{name:"passwordInput",type:"password",value:this.state.passwordInput,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("input",{type:"submit",value:"Signup"})),l.a.createElement("p",null,"Already have account?"))}}]),t}(a.Component),w=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={usernameInput:"",passwordInput:""},n.loginUserService=new P,n.handleChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.handleFormSubmit=function(e){e.preventDefault(),n.loginUserService.login(n.state.usernameInput,n.state.passwordInput).then(function(e){n.setState({usernameInput:"",passwordInput:""}),n.props.logTheUserIntoAppComponent(e),n.props.history.push("/playlist-index")}).catch(function(e){console.log("error submitting form",e)})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("label",{class:"username"},"Username:"),l.a.createElement("input",{class:"username",type:"text",name:"usernameInput",value:this.state.usernameInput,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{class:"username"},"Password:"),l.a.createElement("input",{class:"username",name:"passwordInput",value:this.state.passwordInput,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component),U=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={loggedInUser:null},n.service=new P,n.logInTheUser=function(e){n.setState({loggedInUser:e})},n.showUser=function(){if(n.state.loggedInUser)return l.a.createElement("div",null,"Welcome, ",n.state.loggedInUser.username)},n.logout=function(){n.service.logout().then(function(){n.setState({loggedInUser:null})})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(e){this.fetchUser()}},{key:"fetchUser",value:function(){var e=this;this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}).catch(function(t){console.log(" catch getting hit "),e.setState({loggedInUser:!1})})}},{key:"render",value:function(){var e=this;return console.log(this.state),l.a.createElement("div",null,this.showUser(),l.a.createElement("nav",{class:"nav-bar"},l.a.createElement(d.a,{id:"link",to:"/playlist-index"},"Playlists"),l.a.createElement(d.a,{id:"link",to:"/albumlist-index"},"Albumlists"),l.a.createElement(d.a,{id:"link",to:"/signup"},"Sign Up Page"),l.a.createElement(d.a,{id:"link",to:"/login"},"Login to Account")),l.a.createElement("button",{onClick:this.logout},"Logout"),l.a.createElement("h1",{class:"main-title"}," Audiofy "),l.a.createElement(f.a,null,l.a.createElement(g.a,{path:"/playlist-index",render:function(t){return l.a.createElement(I,Object.assign({},t,{currentUser:e.state.loggedInUser}))}}),l.a.createElement(g.a,{path:"/playlist/:id",component:v}),l.a.createElement(g.a,{path:"/albumlist-index",render:function(t){return l.a.createElement(y,Object.assign({},t,{currentUser:e.state.loggedInUser}))}}),l.a.createElement(g.a,{path:"/albumlist/:id",component:O}),l.a.createElement(g.a,{path:"/signup",render:function(t){return l.a.createElement(j,Object.assign({},t,{logTheUserIntoAppComponent:e.logInTheUser}))}}),l.a.createElement(g.a,{path:"/login",render:function(t){return l.a.createElement(w,Object.assign({},t,{logTheUserIntoAppComponent:e.logInTheUser}))}}),l.a.createElement(g.a,{path:"/playlist-new",render:function(t){return l.a.createElement("newPlaylist",Object.assign({},t,{currentUser:e.state.loggedInUser}))}}),l.a.createElement(g.a,{path:"/albumlist-index",render:function(t){return l.a.createElement("newAlbumlist",Object.assign({},t,{currentUser:e.state.loggedInUser}))}})),l.a.createElement(I,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=n(59);r.a.render(l.a.createElement(C.a,null,l.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.cd372001.chunk.js.map